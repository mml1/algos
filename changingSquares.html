<!DOCTYPE html>
<html>
<head>
	<title>Color Changing Squares</title>
	<style type="text/css">
		#container{
			width: 100%;
		}
		.grid{
			border: 3px solid #000000;
			width: 420px;
			height: 420px;
			margin: 0px auto;
			padding: 5px;

		}
		.row{
			display: block;
		}
		.row div{
			display: inline-block;
			background: #F0F0F0;
			border: 1px solid #000000;
			height: 100px;
			width: 100px;
		}

	</style>
</head>
<body>
	<div id="container"></div>

	<script type="text/javascript">
	
		var options = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];
		var selected = [];

		drawGrid();

		// Select one of the 16 squares every 1500 milliseconds. 
		setInterval(pickASquare, 1500);

		// Draw the grid
		function drawGrid(){
			document.writeln("<div class = 'grid'>");
			for (var i = 0; i<4; i++){
				document.writeln("<div class = 'row'>");
				for(var j = 0; j<4; j++){
					document.writeln("<div id = "+(i*4+j)+"></div>");
				}
				document.writeln("</div>");
			}
			document.writeln("</div>");
		}

		function pickASquare(){
			// select a random element in options and remove it
			var divId = options.splice(Math.floor((Math.random()*options.length)),1);
			selected.push(divId[0]);

			//change it to a random color
			document.getElementById(divId).style.background = "rgb(" + Math.floor(Math.random()*256)+", " + Math.floor(Math.random()*256)+" , 255)";
			
			// After 2 seconds, deselect an item in selected
			setTimeout(deSelect, 2000);
		}

		// put element in selected back to options
		function deSelect(){
			options.push(selected[0]);
			selected.shift();
		}

	</script>
</body>
</html>
